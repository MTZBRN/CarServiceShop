<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="CarServiceShopMAUI.Views.CarDetailPage"
    Title="{Binding PageTitle}"
    Shell.NavBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="18" Spacing="18">

            <!-- KÃ©p elÅ‘nÃ©zet -->
            <Frame BackgroundColor="{AppThemeBinding Light=#FAFAFA, Dark=#333}" HeightRequest="200" CornerRadius="14" HasShadow="True">
                <Grid>
                    <Image 
                        Source="{Binding ImageSource}"   
                        Aspect="AspectFill"
                        IsVisible="{Binding HasImage}"/>
                        <VerticalStackLayout VerticalOptions="Center" HorizontalOptions="Center" IsVisible="{Binding HasImage, Converter={StaticResource InvertedBoolConverter}}">
                            <Label Text="ðŸ“·" FontSize="52" HorizontalOptions="Center" Opacity="0.2"/>
                            <Label Text="Nincs kÃ©p" FontSize="13" TextColor="Gray" HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                </Grid>
            </Frame>

            <!-- KÃ©p gombok -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                <Button Grid.Column="0" 
                    Text="ðŸ“¸ FÃ©nykÃ©pezÃ©s"
                    Command="{Binding TakePhotoCommand}" 
                    BackgroundColor="#2196F3" 
                    TextColor="White" 
                    CornerRadius="8"/>
                <Button Grid.Column="1" 
                    Text="ðŸ–¼ï¸ GallÃ©riÃ¡bÃ³l"
                    Command="{Binding PickImageCommand}" 
                    BackgroundColor="#009688" 
                    TextColor="White"
                    CornerRadius="8"/>
            </Grid>
            <Button 
                Text="ðŸ—‘ï¸ KÃ©p tÃ¶rlÃ©se"
                Command="{Binding RemoveImageCommand}"
                BackgroundColor="#F44336"
                TextColor="White"
                CornerRadius="8"
                IsEnabled="{Binding HasImage}" />

            <!-- AutÃ³ adatok -->
            <Label Text="RendszÃ¡m" FontAttributes="Bold"/>
            <Entry Text="{Binding LicensePlate}" Placeholder="pl. ABC-123" MaxLength="10"/>

            <Label Text="MÃ¡rka" FontAttributes="Bold"/>
            <Entry Text="{Binding Brand}" Placeholder="pl. Toyota"/>

            <Label Text="Modell" FontAttributes="Bold"/>
            <Entry Text="{Binding Model}" Placeholder="pl. Corolla"/>

            <Label Text="GyÃ¡rtÃ¡si Ã©v" FontAttributes="Bold"/>
            <Entry Text="{Binding YearOfManufacture}" Placeholder="pl. 2020" Keyboard="Numeric"/>

            <Label Text="MÅ±szaki vizsga lejÃ¡rata" FontAttributes="Bold"/>
            <DatePicker Date="{Binding DateOfTechnicalInspection}" MinimumDate="2020-01-01" MaximumDate="2030-12-31"/>

            <Label Text="Tulajdonos neve" FontAttributes="Bold"/>
            <Entry Text="{Binding OwnerName}" Placeholder="pl. KovÃ¡cs JÃ¡nos"/>

            <Label Text="Tulajdonos cÃ­me" FontAttributes="Bold"/>
            <Entry Text="{Binding OwnerAddress}" Placeholder="pl. Budapest, Kossuth Lajos u. 23."/>

            <Label Text="Tulajdonos telefonszÃ¡ma" FontAttributes="Bold"/>
            <Entry Text="{Binding OwnerPhone}" Placeholder="pl. +36 30 123 4567" Keyboard="Telephone"/>

            <Label Text="AlvÃ¡zszÃ¡m (VIN)" FontAttributes="Bold"/>
            <Entry Text="{Binding Vin}" Placeholder="pl. 1HGBH41JXMN109186" MaxLength="17"/>

            <Label Text="Km Ã³ra Ã¡llÃ¡s" FontAttributes="Bold"/>
            <Entry Text="{Binding Mileage}" Placeholder="pl. 105000" Keyboard="Numeric"/>

            <Button 
                Text="MentÃ©s" 
                Command="{Binding SaveCommand}"
                BackgroundColor="#4CAF50"
                TextColor="White"
                Margin="0,20,0,0"/>

            <Button 
                Text="MÃ©gse" 
                Command="{Binding CancelCommand}"
                BackgroundColor="#F44336"
                TextColor="White"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
